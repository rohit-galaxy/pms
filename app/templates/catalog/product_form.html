{% extends 'base.html' %}
{% block title %}{% if product %}Edit{% else %}Create{% endif %} Product{% endblock %}
{% block content %}
<h3>{% if product %}Edit{% else %}Create{% endif %} Product</h3>
<form method="post">
	<div class="row g-3">
		<div class="col-md-6">
			<label class="form-label">Title</label>
			<input type="text" name="title" class="form-control" required value="{{ product.title if product }}">
		</div>
		<div class="col-md-6">
			<label class="form-label">Price</label>
			<input type="number" step="0.01" name="price" class="form-control" value="{{ product.price if product else 0 }}">
		</div>
		<div class="col-md-6">
			<label class="form-label">Quantity</label>
			<input type="number" name="quantity" class="form-control" value="{{ product.quantity if product else 0 }}">
		</div>
		<div class="col-md-6">
			<label class="form-label">Category</label>
			<select name="category_id" class="form-select">
				<option value="">—</option>
				{% for c in categories %}
				<option value="{{ c.id }}" {% if product and product.category_id==c.id %}selected{% endif %}>{{ c.name }}</option>
				{% endfor %}
			</select>
		</div>
		<div class="col-md-6">
			<label class="form-label">Brand</label>
			<select name="brand_id" class="form-select">
				<option value="">—</option>
				{% for b in brands %}
				<option value="{{ b.id }}" {% if product and product.brand_id==b.id %}selected{% endif %}>{{ b.name }}</option>
				{% endfor %}
			</select>
		</div>
		<div class="col-12">
			<label class="form-label">Description</label>
			<textarea name="description" class="form-control" rows="4">{{ product.description if product }}</textarea>
		</div>
	</div>
	<div class="mt-3">
		<button class="btn btn-primary" type="submit">Save</button>
		<a class="btn btn-secondary" href="{{ url_for('catalog.products_list') }}">Cancel</a>
	</div>
</form>
{% endblock %}