{% extends 'base.html' %}
{% block title %}Categories{% endblock %}
{% block content %}
<h3>Categories</h3>
{% if current_user.is_admin %}
<form class="row g-2 mb-3" method="post" action="{{ url_for('catalog.categories_create_post') }}">
	<div class="col-auto">
		<input type="text" class="form-control" name="name" placeholder="New category" required>
	</div>
	<div class="col-auto">
		<button type="submit" class="btn btn-primary">Add</button>
	</div>
</form>
{% endif %}
<table class="table table-striped">
	<thead>
	<tr><th>Name</th><th>Actions</th></tr>
	</thead>
	<tbody>
	{% for c in categories %}
	<tr>
		<td>{{ c.name }}</td>
		<td>
			{% if current_user.is_admin %}
			<form method="post" action="{{ url_for('catalog.categories_delete', category_id=c.id) }}" style="display:inline">
				<button class="btn btn-sm btn-danger" onclick="return confirm('Delete category?')">Delete</button>
			</form>
			{% endif %}
		</td>
	</tr>
	{% endfor %}
	</tbody>
</table>
{% endblock %}